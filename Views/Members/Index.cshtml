@*Define model*@
@*
@model IEnumerable<Member>*@

@{
	ViewData["Title"] = "Members";
    Layout = "_AdminLayout";
}


@*Define ViewData*@

@*<div class="row">
	<div class="col-md-8 offset-md-2">

		<table class="table">
			<thead class="text-center">
			<tr>
				<th>Member Number</th>
				<th>FirstName</th>
				<th>Last Name</th>
				<th>Address</th>
				<th>Date of Birth</th>
				<th>Membership Category</th>
				<th>DVDs on Loan</th>
				<th></th>
				<th>Actions</th>
			</tr>
			</thead>
			<tbody>
				@foreach (var item in Model)
				{
					<tr class="text-center">
						<td class="align-middle">
							@item.MemberNumber
						</td>
						<td class="align-middle">
							@item.MemberFirstName
						</td>
						<td class="align-middle">
							@item.MemberLastName
						</td>
						<td class="align-middle">
							@item.MemberAddress
						</td>
						<td class="align-middle">
							@item.MemberDOB
						</td
						>
						<td class="align-middle">
							@item.Membership
						</td>
						<td class="align-middle">
							@item.TotalCurrentLoans
						</td>
						<td>
							@if (item.TotalAcceptLoans < item.TotalCurrentLoans)
							{
								<p>Too Many DVDs (@item.TotalCurrentLoans)</p>
							}
							else
							{
								<p>-</p>
							}
						</td>
						<td class="align-middle">
							<a class="btn btn-outline-info" asp-action="Details" asp-route-id="@item.MemberNumber"><i class="lnr-bicycle bi-eye"></i> Details </a>
						</td>
					</tr>
				}
			</tbody>
			
		</table>

	</div>
</div>*@

<div class="container-fluid py-4">
            <div class="row">
              <div class="col-12">
                <div class="card mb-4">
                  <div class="card-header pb-0">
                    <h2 class="mt-3 text-center text-warning">Our Members</h2>
                  </div>
                    <div class="row">
                      <div class="col-5 d-flex align-items-center">
                        <div class="input-group mx-4">
                          <span class="input-group-text text-body"><i class="fas fa-search" style="color: #D18A4A" aria-hidden="true"></i></span>
                          <input type="text" class="form-control" placeholder="Search">
                        </div>
                      </div>
                      </div> 
                  <div class="card-body px-0 pt-0 pb-2">
                    <div class="table-responsive p-0">
                      <table class="table align-items-center mb-0">
                        <thead>
                          <tr>
                            <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7">Member No.</th>
                            <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7 px-5"> Member Name</th>
                            <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7 ps-2">Membership</th>
                            <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7 ps-2">Date Of Birth</th>
                            <th class="text-center text-uppercase text-secondary text-xs font-weight-bolder opacity-7">DVDs on Loan</th>
                            <th class="text-center text-uppercase text-secondary text-xs font-weight-bolder opacity-7">Details</th>
                            <th class="text-center text-uppercase text-secondary text-xs font-weight-bolder opacity-7 ps-0">Remarks</th>
                          </tr>
                        </thead>
                        <tbody>
                        @foreach (var item in Model)
				        {
                          <tr>
							  <td class="align-middle text-start">
                                    <span class="text-xs font-weight-bold mx-5">@item.MemberNumber</span>
                               </td>
                                <td>
                                  <div class="d-flex px-2 py-1">
                                    <div class="d-flex flex-column justify-content-center">
                                      <h6 class="mb-0 text-md mx-5">@item.MemberFirstName @item.MemberLastName</h6>
                                      <p class="text-xxs text-secondary mb-0 ms-4">@item.MemberAddress</p>
                                    </div>
                                  </div>
                                </td>
                                <td>
                                  @if (item.Membership == "Silver")
									{
										<span class="badge badge-sm bg-gradient-secondary px-4">Silver</span>
									}
									else if (item.Membership == "Gold"){
										<span class="badge badge-sm bg-gradient-warning px-4 mx-1">Gold</span>
									}
									else
									{
										<span class="badge badge-sm bg-gradient-success px-3">Platinum</span>
									}
                                </td>
                                <td class="align-middle text-start">
                                  <p class="text-sm font-weight-bold mb-0 mx-3">@item.MemberDOB</p>
                                </td>
                                <td class="align-middle text-center">
                                  <span class="text-xs font-weight-bold">@item.TotalCurrentLoans</span>
                                </td>
                                  <td class="align-middle text-center">
                                    <a class="btn btn-linkpx-4 mb-0" style="color: #adb5bd" href="javascript:;"><i class="fas fa-eye me-2" style="color: #adb5bd" aria-hidden="true"></i>View</a>
                                  </td>
                                <td>
									@if (item.TotalAcceptLoans < item.TotalCurrentLoans)
									{
										<p class="text-success text-md mb-0">Too many DVDs!</p>
									}
									else
									{
										<pclass="align-middle text-center">-</pclass>
									}
                                </td>
						  </tr>
                          }
                  </tbody>
                </table>
                </div>
                </div>
                </div>
                </div>
          </div>
